!function(e){"use strict";function t(t,a){var r,n=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,a),this.$scrollElement=o.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(r=e(t).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,a=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),n=/^#\w/.test(r)&&e(r);return n&&n.length&&[[n.position().top+(!e.isWindow(a.$scrollElement.get(0))&&a.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,a=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=a-this.$scrollElement.height(),n=this.offsets,o=this.targets,s=this.activeTarget;if(t>=r)return s!=(e=o.last()[0])&&this.activate(e);for(e=n.length;e--;)s!=o[e]&&t>=n[e]&&(!n[e+1]||n[e+1]>=t)&&this.activate(o[e])},activate:function(t){var a,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(r).parent("li").addClass("active"),a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate")}};var a=e.fn.scrollspy;e.fn.scrollspy=function(a){return this.each(function(){var r=e(this),n=r.data("scrollspy"),o="object"==typeof a&&a;n||r.data("scrollspy",n=new t(this,o)),"string"==typeof a&&n[a]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,a,r,n=this.element,o=n.closest("ul:not(.dropdown-menu)"),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(t=o.find(".active a").last()[0],r=e.Event("show",{relatedTarget:t}),n.trigger(r),r.isDefaultPrevented()||(a=e(s),this.activate(n.parent("li"),o),this.activate(a,a.parent(),function(){n.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,a,r){function n(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var o=a.find("> .active"),s=r&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,n):n(),o.removeClass("in")}},e.fn.tab=function(a){return this.each(function(){var r=e(this),n=r.data("tab");n||r.data("tab",n=new t(this)),"string"==typeof a&&n[a]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var a=t.util.type(e);switch(a){case"Object":var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=t.util.clone(e[n]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,a){var r=t.util.clone(t.languages[e]);for(var n in a)r[n]=a[n];return r},insertBefore:function(e,a,r,n){n=n||t.languages;var o=n[e],s={};for(var i in o)if(o.hasOwnProperty(i)){if(i==a)for(var l in r)r.hasOwnProperty(l)&&(s[l]=r[l]);s[i]=o[i]}return n[e]=s},DFS:function(e,a){for(var r in e)a.call(e,r,e[r]),"Object"===t.util.type(e)&&t.languages.DFS(e[r],a)}},highlightAll:function(e,a){for(var r,n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;r=n[o++];)t.highlightElement(r,e===!0,a)},highlightElement:function(r,n,o){for(var s,i,l=r;l&&!e.test(l.className);)l=l.parentNode;if(l&&(s=(l.className.match(e)||[,""])[1],i=t.languages[s]),i){r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+s,l=r.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+s);var u=r.textContent;if(u){u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g," ");var c={element:r,language:s,grammar:i,code:u};if(t.hooks.run("before-highlight",c),n&&self.Worker){var d=new Worker(t.filename);d.onmessage=function(e){c.highlightedCode=a.stringify(JSON.parse(e.data)),c.element.innerHTML=c.highlightedCode,o&&o.call(c.element),t.hooks.run("after-highlight",c)},d.postMessage(JSON.stringify({language:c.language,code:c.code}))}else c.highlightedCode=t.highlight(c.code,c.grammar),c.element.innerHTML=c.highlightedCode,o&&o.call(r),t.hooks.run("after-highlight",c)}}},highlight:function(e,r){return a.stringify(t.tokenize(e,r))},tokenize:function(e,a){var r=t.Token,n=[e],o=a.rest;if(o){for(var s in o)a[s]=o[s];delete a.rest}e:for(var s in a)if(a.hasOwnProperty(s)&&a[s]){var i=a[s],l=i.inside,u=!!i.lookbehind||0;i=i.pattern||i;for(var c=0;n.length>c;c++){var d=n[c];if(n.length>e.length)break e;if(!(d instanceof r)){i.lastIndex=0;var g=i.exec(d);if(g){u&&(u=g[1].length);var p=g.index-1+u,g=g[0].slice(u),h=g.length,f=p+h,v=d.slice(0,p+1),y=d.slice(f+1),m=[c,1];v&&m.push(v);var b=new r(s,l?t.tokenize(g,l):g);m.push(b),y&&m.push(y),Array.prototype.splice.apply(n,m)}}}}return n},hooks:{all:{},add:function(e,a){var r=t.hooks.all;r[e]=r[e]||[],r[e].push(a)},run:function(e,a){var r=t.hooks.all[e];if(r&&r.length)for(var n,o=0;n=r[o++];)n(a)}}},a=t.Token=function(e,t){this.type=e,this.content=t};if(a.stringify=function(e){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(a.stringify).join("");var r={type:e.type,content:a.stringify(e.content),tag:"span",classes:["token",e.type],attributes:{}};"comment"==r.type&&(r.attributes.spellcheck="true"),t.hooks.run("wrap",r);var n="";for(var o in r.attributes)n+=o+'="'+(r.attributes[o]||"")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'" '+n+">"+r.content+"</"+r.tag+">"},!self.document)return self.addEventListener("message",function(e){var a=JSON.parse(e.data),r=a.language,n=a.code;self.postMessage(JSON.stringify(t.tokenize(n,t.languages[r]))),self.close()},!1),void 0;var r=document.getElementsByTagName("script");r=r[r.length-1],r&&(t.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll))}(),Prism.languages.markup={comment:/&lt;!--[\w\W]*?--(&gt;|&gt;)/g,prolog:/&lt;\?.+?\?&gt;/,doctype:/&lt;!DOCTYPE.+?&gt;/,cdata:/&lt;!\[CDATA\[[\w\W]+?]]&gt;/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?&gt;/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|&gt;|"/g}},punctuation:/\/?&gt;/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:/@[\w-]+?(\s+[^;{]+)?(?=\s*{|\s*;)/gi,url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,property:/(\b|\B)[a-z-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,number:/\b(-?(0x)?\d*\.?[\da-f]+|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),function(e,t){"use strict";var a=e.History=e.History||{};if(a.Adapter!==void 0)throw Error("History.js Adapter has already been loaded...");a.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=a.Adapter._uid++)},bind:function(e,t,r){var n=a.Adapter.uid(e);a.Adapter.handlers[n]=a.Adapter.handlers[n]||{},a.Adapter.handlers[n][t]=a.Adapter.handlers[n][t]||[],a.Adapter.handlers[n][t].push(r),e["on"+t]=function(e,t){return function(r){a.Adapter.trigger(e,t,r)}}(e,t)},trigger:function(e,t,r){r=r||{};var n,o,s=a.Adapter.uid(e);for(a.Adapter.handlers[s]=a.Adapter.handlers[s]||{},a.Adapter.handlers[s][t]=a.Adapter.handlers[s][t]||[],n=0,o=a.Adapter.handlers[s][t].length;o>n;++n)a.Adapter.handlers[s][t][n].apply(this,[r])},extractEventData:function(e,a){var r=a&&a[e]||t;return r},onDomLoad:function(t){var a=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(a),t()}}},a.init!==void 0&&a.init()}(window),function(e,t){"use strict";var a=e.console||t,r=e.document,n=e.navigator,o=e.sessionStorage||!1,s=e.setTimeout,i=e.clearTimeout,l=e.setInterval,u=e.clearInterval,c=e.JSON,d=e.alert,g=e.History=e.History||{},p=e.history;if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,g.init!==void 0)throw Error("History.js Core has already been loaded...");g.init=function(){return g.Adapter===void 0?!1:(g.initCore!==void 0&&g.initCore(),g.initHtml4!==void 0&&g.initHtml4(),!0)},g.initCore=function(){if(g.initCore.initialized!==void 0)return!1;if(g.initCore.initialized=!0,g.options=g.options||{},g.options.hashChangeInterval=g.options.hashChangeInterval||100,g.options.safariPollInterval=g.options.safariPollInterval||500,g.options.doubleCheckInterval=g.options.doubleCheckInterval||500,g.options.storeInterval=g.options.storeInterval||1e3,g.options.busyDelay=g.options.busyDelay||250,g.options.debug=g.options.debug||!1,g.options.initialTitle=g.options.initialTitle||r.title,g.intervalList=[],g.clearAllIntervals=function(){var e,t=g.intervalList;if(t!==void 0&&null!==t){for(e=0;t.length>e;e++)u(t[e]);g.intervalList=null}},g.debug=function(){(g.options.debug||!1)&&g.log.apply(g,arguments)},g.log=function(){var e,t,n,o,s,i=a!==void 0&&a.log!==void 0&&a.log.apply!==void 0,l=r.getElementById("log");for(i?(o=Array.prototype.slice.call(arguments),e=o.shift(),a.debug!==void 0?a.debug.apply(a,[e,o]):a.log.apply(a,[e,o])):e="\n"+arguments[0]+"\n",t=1,n=arguments.length;n>t;++t){if(s=arguments[t],"object"==typeof s&&c!==void 0)try{s=c.stringify(s)}catch(u){}e+="\n"+s+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):i||d(e),!0},g.getInternetExplorerMajorVersion=function(){var e=g.getInternetExplorerMajorVersion.cached=g.getInternetExplorerMajorVersion.cached!==void 0?g.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=r.createElement("div"),a=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&a[0];);return e>4?e:!1}();return e},g.isInternetExplorer=function(){var e=g.isInternetExplorer.cached=g.isInternetExplorer.cached!==void 0?g.isInternetExplorer.cached:Boolean(g.getInternetExplorerMajorVersion());return e},g.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(n.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(n.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||g.isInternetExplorer()&&8>g.getInternetExplorerMajorVersion())},g.enabled=!g.emulated.pushState,g.bugs={setHash:Boolean(!g.emulated.pushState&&"Apple Computer, Inc."===n.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),safariPoll:Boolean(!g.emulated.pushState&&"Apple Computer, Inc."===n.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),ieDoubleCheck:Boolean(g.isInternetExplorer()&&8>g.getInternetExplorerMajorVersion()),hashEscape:Boolean(g.isInternetExplorer()&&7>g.getInternetExplorerMajorVersion())},g.isEmptyObject=function(e){for(var t in e)return!1;return!0},g.cloneObject=function(e){var t,a;return e?(t=c.stringify(e),a=c.parse(t)):a={},a},g.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);return r.location.port&&(e+=":"+r.location.port),e+="/"},g.getBaseHref=function(){var e=r.getElementsByTagName("base"),t=null,a="";return 1===e.length&&(t=e[0],a=t.href.replace(/[^\/]+$/,"")),a=a.replace(/\/+$/,""),a&&(a+="/"),a},g.getBaseUrl=function(){var e=g.getBaseHref()||g.getBasePageUrl()||g.getRootUrl();return e},g.getPageUrl=function(){var e,t=g.getState(!1,!1),a=(t||{}).url||r.location.href;return e=a.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},g.getBasePageUrl=function(){var e=r.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},g.getFullUrl=function(e,t){var a=e,r=e.substring(0,1);return t=t===void 0?!0:t,/[a-z]+\:\/\//.test(e)||(a="/"===r?g.getRootUrl()+e.replace(/^\/+/,""):"#"===r?g.getPageUrl().replace(/#.*/,"")+e:"?"===r?g.getPageUrl().replace(/[\?#].*/,"")+e:t?g.getBaseUrl()+e.replace(/^(\.\/)+/,""):g.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),a.replace(/\#$/,"")},g.getShortUrl=function(e){var t=e,a=g.getBaseUrl(),r=g.getRootUrl();return g.emulated.pushState&&(t=t.replace(a,"")),t=t.replace(r,"/"),g.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},g.store={},g.idToState=g.idToState||{},g.stateToId=g.stateToId||{},g.urlToId=g.urlToId||{},g.storedStates=g.storedStates||[],g.savedStates=g.savedStates||[],g.normalizeStore=function(){g.store.idToState=g.store.idToState||{},g.store.urlToId=g.store.urlToId||{},g.store.stateToId=g.store.stateToId||{}},g.getState=function(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);var a=g.getLastSavedState();return!a&&t&&(a=g.createStateObject()),e&&(a=g.cloneObject(a),a.url=a.cleanUrl||a.url),a},g.getIdByState=function(e){var t,a=g.extractId(e.url);if(!a)if(t=g.getStateString(e),g.stateToId[t]!==void 0)a=g.stateToId[t];else if(g.store.stateToId[t]!==void 0)a=g.store.stateToId[t];else{for(;a=(new Date).getTime()+(Math.random()+"").replace(/\D/g,""),g.idToState[a]!==void 0||g.store.idToState[a]!==void 0;);g.stateToId[t]=a,g.idToState[a]=e}return a},g.normalizeState=function(e){var t,a;return e&&"object"==typeof e||(e={}),e.normalized!==void 0?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=g.getFullUrl(g.unescapeString(e.url||r.location.href)),t.hash=g.getShortUrl(t.url),t.data=g.cloneObject(e.data),t.id=g.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,a=!g.isEmptyObject(t.data),(t.title||a)&&(t.hash=g.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=g.getFullUrl(t.hash),(g.emulated.pushState||g.bugs.safariPoll)&&g.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},g.createStateObject=function(e,t,a){var r={data:e,title:t,url:a};return r=g.normalizeState(r)},g.getStateById=function(e){e+="";var a=g.idToState[e]||g.store.idToState[e]||t;return a},g.getStateString=function(e){var t,a,r;return t=g.normalizeState(e),a={data:t.data,title:e.title,url:e.url},r=c.stringify(a)},g.getStateId=function(e){var t,a;return t=g.normalizeState(e),a=t.id},g.getHashByState=function(e){var t,a;return t=g.normalizeState(e),a=t.hash},g.extractId=function(e){var t,a,r;return a=/(.*)\&_suid=([0-9]+)$/.exec(e),r=a?a[1]||e:e,t=a?(a[2]||"")+"":"",t||!1},g.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},g.extractState=function(e,t){var a,r,n=null;return t=t||!1,a=g.extractId(e),a&&(n=g.getStateById(a)),n||(r=g.getFullUrl(e),a=g.getIdByUrl(r)||!1,a&&(n=g.getStateById(a)),!n&&t&&!g.isTraditionalAnchor(e)&&(n=g.createStateObject(null,null,r))),n},g.getIdByUrl=function(e){var a=g.urlToId[e]||g.store.urlToId[e]||t;return a},g.getLastSavedState=function(){return g.savedStates[g.savedStates.length-1]||t},g.getLastStoredState=function(){return g.storedStates[g.storedStates.length-1]||t},g.hasUrlDuplicate=function(e){var t,a=!1;return t=g.extractState(e.url),a=t&&t.id!==e.id},g.storeState=function(e){return g.urlToId[e.url]=e.id,g.storedStates.push(g.cloneObject(e)),e},g.isLastSavedState=function(e){var t,a,r,n=!1;return g.savedStates.length&&(t=e.id,a=g.getLastSavedState(),r=a.id,n=t===r),n},g.saveState=function(e){return g.isLastSavedState(e)?!1:(g.savedStates.push(g.cloneObject(e)),!0)},g.getStateByIndex=function(e){var t=null;return t=e===void 0?g.savedStates[g.savedStates.length-1]:0>e?g.savedStates[g.savedStates.length+e]:g.savedStates[e]},g.getHash=function(){var e=g.unescapeHash(r.location.hash);return e},g.unescapeString=function(t){for(var a,r=t;a=e.unescape(r),a!==r;)r=a;return r},g.unescapeHash=function(e){var t=g.normalizeHash(e);return t=g.unescapeString(t)},g.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},g.setHash=function(e,t){var a,n,o;return t!==!1&&g.busy()?(g.pushQueue({scope:g,callback:g.setHash,args:arguments,queue:t}),!1):(a=g.escapeHash(e),g.busy(!0),n=g.extractState(e,!0),n&&!g.emulated.pushState?g.pushState(n.data,n.title,n.url,!1):r.location.hash!==a&&(g.bugs.setHash?(o=g.getPageUrl(),g.pushState(null,null,o+"#"+a,!1)):r.location.hash=a),g)},g.escapeHash=function(t){var a=g.normalizeHash(t);return a=e.escape(a),g.bugs.hashEscape||(a=a.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),a},g.getHashByUrl=function(e){var t=(e+"").replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=g.unescapeHash(t)},g.setTitle=function(e){var t,a=e.title;a||(t=g.getStateByIndex(0),t&&t.url===e.url&&(a=t.title||g.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=a.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(n){}return r.title=a,g},g.queues=[],g.busy=function(e){if(e!==void 0?g.busy.flag=e:g.busy.flag===void 0&&(g.busy.flag=!1),!g.busy.flag){i(g.busy.timeout);var t=function(){var e,a,r;if(!g.busy.flag)for(e=g.queues.length-1;e>=0;--e)a=g.queues[e],0!==a.length&&(r=a.shift(),g.fireQueueItem(r),g.busy.timeout=s(t,g.options.busyDelay))};g.busy.timeout=s(t,g.options.busyDelay)}return g.busy.flag},g.busy.flag=!1,g.fireQueueItem=function(e){return e.callback.apply(e.scope||g,e.args||[])},g.pushQueue=function(e){return g.queues[e.queue||0]=g.queues[e.queue||0]||[],g.queues[e.queue||0].push(e),g},g.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),t!==void 0&&(e.queue=t),g.busy()?g.pushQueue(e):g.fireQueueItem(e),g},g.clearQueue=function(){return g.busy.flag=!1,g.queues=[],g},g.stateChanged=!1,g.doubleChecker=!1,g.doubleCheckComplete=function(){return g.stateChanged=!0,g.doubleCheckClear(),g},g.doubleCheckClear=function(){return g.doubleChecker&&(i(g.doubleChecker),g.doubleChecker=!1),g},g.doubleCheck=function(e){return g.stateChanged=!1,g.doubleCheckClear(),g.bugs.ieDoubleCheck&&(g.doubleChecker=s(function(){return g.doubleCheckClear(),g.stateChanged||e(),!0},g.options.doubleCheckInterval)),g},g.safariStatePoll=function(){var t,a=g.extractState(r.location.href);if(!g.isLastSavedState(a))return t=a,t||(t=g.createStateObject()),g.Adapter.trigger(e,"popstate"),g},g.back=function(e){return e!==!1&&g.busy()?(g.pushQueue({scope:g,callback:g.back,args:arguments,queue:e}),!1):(g.busy(!0),g.doubleCheck(function(){g.back(!1)}),p.go(-1),!0)},g.forward=function(e){return e!==!1&&g.busy()?(g.pushQueue({scope:g,callback:g.forward,args:arguments,queue:e}),!1):(g.busy(!0),g.doubleCheck(function(){g.forward(!1)}),p.go(1),!0)},g.go=function(e,t){var a;if(e>0)for(a=1;e>=a;++a)g.forward(t);else{if(!(0>e))throw Error("History.go: History.go requires a positive or negative integer passed.");for(a=-1;a>=e;--a)g.back(t)}return g},g.emulated.pushState){var h=function(){};g.pushState=g.pushState||h,g.replaceState=g.replaceState||h}else g.onPopState=function(t,a){var n,o,s=!1,i=!1;return g.doubleCheckComplete(),n=g.getHash(),n?(o=g.extractState(n||r.location.href,!0),o?g.replaceState(o.data,o.title,o.url,!1):(g.Adapter.trigger(e,"anchorchange"),g.busy(!1)),g.expectedStateId=!1,!1):(s=g.Adapter.extractEventData("state",t,a)||!1,i=s?g.getStateById(s):g.expectedStateId?g.getStateById(g.expectedStateId):g.extractState(r.location.href),i||(i=g.createStateObject(null,null,r.location.href)),g.expectedStateId=!1,g.isLastSavedState(i)?(g.busy(!1),!1):(g.storeState(i),g.saveState(i),g.setTitle(i),g.Adapter.trigger(e,"statechange"),g.busy(!1),!0))},g.Adapter.bind(e,"popstate",g.onPopState),g.pushState=function(t,a,r,n){if(g.getHashByUrl(r)&&g.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(n!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:n}),!1;g.busy(!0);var o=g.createStateObject(t,a,r);return g.isLastSavedState(o)?g.busy(!1):(g.storeState(o),g.expectedStateId=o.id,p.pushState(o.id,o.title,o.url),g.Adapter.trigger(e,"popstate")),!0},g.replaceState=function(t,a,r,n){if(g.getHashByUrl(r)&&g.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(n!==!1&&g.busy())return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:n}),!1;g.busy(!0);var o=g.createStateObject(t,a,r);return g.isLastSavedState(o)?g.busy(!1):(g.storeState(o),g.expectedStateId=o.id,p.replaceState(o.id,o.title,o.url),g.Adapter.trigger(e,"popstate")),!0};if(o){try{g.store=c.parse(o.getItem("History.store"))||{}}catch(f){g.store={}}g.normalizeStore()}else g.store={},g.normalizeStore();g.Adapter.bind(e,"beforeunload",g.clearAllIntervals),g.Adapter.bind(e,"unload",g.clearAllIntervals),g.saveState(g.storeState(g.extractState(r.location.href,!0))),o&&(g.onUnload=function(){var e,t;try{e=c.parse(o.getItem("History.store"))||{}}catch(a){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in g.idToState)g.idToState.hasOwnProperty(t)&&(e.idToState[t]=g.idToState[t]);for(t in g.urlToId)g.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=g.urlToId[t]);for(t in g.stateToId)g.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=g.stateToId[t]);g.store=e,g.normalizeStore(),o.setItem("History.store",c.stringify(e))},g.intervalList.push(l(g.onUnload,g.options.storeInterval)),g.Adapter.bind(e,"beforeunload",g.onUnload),g.Adapter.bind(e,"unload",g.onUnload)),g.emulated.pushState||(g.bugs.safariPoll&&g.intervalList.push(l(g.safariStatePoll,g.options.safariPollInterval)),("Apple Computer, Inc."===n.vendor||"Mozilla"===(n.appCodeName||""))&&(g.Adapter.bind(e,"hashchange",function(){g.Adapter.trigger(e,"popstate")}),g.getHash()&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(e,"hashchange")})))},g.init()}(window);